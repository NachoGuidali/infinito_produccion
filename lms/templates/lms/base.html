{% load static %}
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}Infinito Capacitaciones{% endblock %}</title>
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --color-principal: #ff4ec6;
      --color-gradiente: linear-gradient(to right, #ff4ec6, #f883ff);
      --color-fondo: #ffffff;
      --color-texto: #1a1a1a;
      --color-boton: #ff4ec6;
      --color-boton-hover: #e042b3;
      --color-secundario: #f1f1f1;

      --maxw: 1120px;
      --radius: 16px;
      --line: #e9e9e9;

      /* Fondo global */
      --bg-pattern: url("{% static 'media/fondo.jpg' %}");
      --bg-opacity: 0.12;
      --bg-size: cover;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0;
      background: var(--color-fondo);
      color: var(--color-texto);
      position: relative;
      min-height: 100vh;

      /* ✅ Mantener flex layout para “pegar” el footer abajo */
      display: flex;
      flex-direction: column;

      /* ✅ IMPORTANTE: esto dejaba hueco abajo y desalineaba el footer */
      /* padding-bottom: 5rem; */
    }

    .footer {
      display: flex;
      width: 100%;
      /* si tenés fondo */
    }

    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -1;
      background-image: var(--bg-pattern);
      background-repeat: no-repeat;
      background-size: var(--bg-size);
      background-position: center;
      opacity: var(--bg-opacity);
      pointer-events: none;
    }

    .container { max-width: var(--maxw); margin: 0 auto; padding: 24px; }
    .container-narrow { max-width: 920px; margin: 0 auto; }

    header {
      background: var(--color-gradiente);
      color: white;
    }
    a { color: var(--color-texto); text-decoration: none; }

    .btn {
      background: var(--color-boton);
      color: white;
      padding: 10px 16px;
      border: none;
      border-radius: 999px;
      font-weight: 700;
      text-decoration: none;
      transition: background .2s ease;
      display: inline-block;
    }
    .btn:hover { background: var(--color-boton-hover); }
    .btn.secondary { background: #ffffff33; color: white; }
    .btn-outline {
      background: white; color: var(--color-boton);
      border: 2px solid var(--color-boton);
      padding: 8px 16px; border-radius: 999px; font-weight: 700;
      transition: all .2s ease;
    }
    .btn-outline:hover { background: var(--color-boton); color: white; }

    .card {
      background: white;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,.04);
    }

    .grid { display: grid; gap: 16px; }
    .grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

    /* ✅ Clave: hace que el contenido ocupe el alto disponible y empuje el footer abajo */
    main {
      padding: 24px 0 40px;
      flex: 1;
    }

    footer {
      background:#edf3f5;
      border-top:1px solid var(--line);
      margin-top: auto; /* ✅ refuerzo */
    }

    .footer-row{display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}
    .footer-left{font-size:14px}
    .social{display:flex;align-items:center;gap:10px}
    .social a{
      width:36px;height:36px;border-radius:50%;
      display:inline-flex;align-items:center;justify-content:center;
      background:#0b2a3a;color:#fff;font-weight:800;
    }

    .wa-fab{
      position:fixed;right:18px;bottom:18px;z-index:9998;
      width:56px;height:56px;border-radius:50%;
      background:#25D366; box-shadow:0 6px 18px rgba(0,0,0,.18);
      display:flex;align-items:center;justify-content:center;
    }
    .wa-fab svg{width:28px;height:28px;fill:#fff;display:block}
    .wa-fab:hover{filter:brightness(1.05)}

    /* ---------- HERO ---------- */
    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    /* Versión mobile */
    @media (max-width: 640px) {
      .hero-cta {
        flex-direction: column;
        align-items: stretch;
      }

      .hero-cta a {
        width: 100%;
        text-align: center;
      }
    }

    .hero{
      display:grid; gap:28px; align-items:center;
      grid-template-columns: 1.1fr 0.9fr;
      margin: 0 0 24px;
    }
    @media (max-width:900px){ .hero{grid-template-columns:1fr} }

    .hero h1{
      margin:0 0 6px;
      font-size:clamp(40px,6vw,64px);
      line-height:1.05;
      font-weight:800;
      letter-spacing:-0.5px;
      color:#111;
    }
    .hero .sub{
      color:#ed12a4;
      font-weight:800;
      font-size:clamp(32px,5vw,48px);
      margin:0 0 18px;
    }
    .hero p.lead{
      margin:0 0 16px;
      color:#ed12a4;
      font-weight:600;
      font-size:clamp(16px,2.2vw,20px);
    }
    .hero ul{
      margin:0 0 20px 1.1em;
      padding:0;
      color:#222;
      font-size:clamp(15px,2vw,18px);
    }
    .hero li{ margin:6px 0; }

    .hero-note{
      margin-top:12px;
      font-weight:700;
      color:#111;
      font-size:clamp(16px,2.2vw,20px);
    }
    .hero-note strong{ font-weight:800; color:#ff4ec6; }

    .hero-img{
      border-radius:28px;
      overflow:hidden;
      border:1px solid var(--line);
      box-shadow:0 10px 30px rgba(0,0,0,.12);
    }
    .hero-img img{width:100%; height:auto; display:block; object-fit:cover;}

    /* ====== Responsive helpers ====== */
    @media (max-width: 640px){
      .container{ padding: 14px; }
    }
    @media (max-width: 900px){
      .grid-2, .grid-3{ grid-template-columns: 1fr; }
    }

    /* YouTube embebido y PDFs responsivos */
    .ytbox{ width:100%; max-width:100%; aspect-ratio: 16 / 9; border-radius:12px; overflow:hidden; }
    .ytbox iframe{ width:100% !important; height:100% !important; display:block; }
    .pdf-frame{ width:100%; height: clamp(320px, 65vh, 760px); border:0; border-radius:12px; display:block; }

    /* ====== Mobile nav (hamburger) ====== */
    .hamburger{
      display:none; align-items:center; justify-content:center;
      width:40px; height:40px; border-radius:10px; border:1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.15); color:#fff; cursor:pointer;
    }
    .hamburger svg{ width:22px; height:22px }

    @media (max-width: 900px){
      header .container{ flex-wrap: wrap; row-gap: 10px; }
      .hamburger{ display:flex }
      nav#main-nav{ width:100% }
      nav#main-nav .nav-list{
        display:none;
        flex-direction:column;
        gap:10px; padding:12px 0 0; margin:0;
      }
      nav#main-nav.open .nav-list{ display:flex }
      nav#main-nav .nav-list .btn.secondary,
      nav#main-nav .nav-list .btn.btn-outline{ width:100%; text-align:center; }
    }
    @media (min-width: 901px){
      nav#main-nav .nav-list{ display:flex; align-items:center; gap:16px; }
    }

    /* ====== Messages ====== */
    .messages-wrapper{
      position: fixed; top: 12px; left: 50%; transform: translateX(-50%);
      z-index: 9999; width: min(680px, calc(100vw - 24px));
    }
    .msg{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border-radius: 12px; padding: 10px 12px; margin: 0 0 8px; color:#0b1;
      background: #e7f9ed; border:1px solid #c7f1d8;
      font-weight: 600;
    }
    .msg.error{ background:#ffeff1; border-color:#ffd6dc; color:#b30b2a }
    .msg.info{ background:#eef6ff; border-color:#d5e7ff; color:#0b3b91 }
    .msg button{ background:transparent; border:0; font-weight:800; cursor:pointer }
  </style>
</head>
<body>
  <header>
    <div class="container" style="display:flex;gap:16px;align-items:center;justify-content:space-between;">
      <!-- Marca + botón hamburger (solo mobile) -->
      <div style="display:flex;gap:12px;align-items:center;">
        <strong style="font-size:1.15rem; color:#fff">Infinito Capacitaciones</strong>
        <button class="hamburger" aria-label="Abrir menú" aria-controls="main-nav" aria-expanded="false" id="nav-toggle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </div>

      <!-- NAV -->
      <nav id="main-nav" aria-label="Principal">
        <div class="nav-list">
          <a href="{% url 'lms:home' %}" class="btn secondary">Inicio</a>
          <a href="{% url 'lms:catalog' %}" class="btn secondary">Cursos y capacitaciones</a>

          {% if request.user.is_authenticated %}
            <a href="{% url 'lms:profile' %}" class="btn secondary">Mi perfil</a>
            {% if request.user.is_staff %}
              <a href="{% url 'lms:admin_panel' %}" class="btn secondary">Panel</a>
            {% endif %}
            <span style="color:#fff; margin-left:8px">Hola, {{ request.user.username }}</span>
            <a href="{% url 'lms:logout' %}" class="btn btn-outline">Cerrar sesión</a>
          {% else %}
            <a href="{% url 'lms:signup' %}" class="btn" aria-label="Crear cuenta">Crear cuenta</a>
            <a href="{% url 'login' %}" class="btn btn-outline" aria-label="Iniciar sesión">Login</a>
          {% endif %}
        </div>
      </nav>
    </div>
  </header>

  {% include "lms/_messages.html" %}

  <main>
  <div class="container">
    {% block content %}{% endblock %}
  </div>
</main>

  <footer class="footer">
    <div class="container footer-row">
      <div class="footer-left">
        {% now "Y" %} By <a href="https://supregsolutions.com" target="_blank" style="color:#8a2b8f;font-weight:700">SupregSolutions</a> — Todos los derechos reservados.
      </div>
      <div class="social">
        <span class="muted" style="margin-right:6px">Conéctate con nosotros</span>
        
        <a href="https://www.instagram.com/infinito.capacitaciones" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </footer>

  <!-- WhatsApp global -->
  <a class="wa-fab" href="https://wa.me/5491130125525?text=Hola%20Infinito%2C%20quiero%20informaci%C3%B3n%20sobre%20los%20cursos" target="_blank" aria-label="WhatsApp">
    <svg viewBox="0 0 32 32"><path d="M19.11 17.36c-.27-.14-1.6-.79-1.84-.88-.25-.09-.43-.14-.61.14-.18.27-.7.88-.86 1.06-.16.18-.32.2-.59.07-.27-.14-1.15-.42-2.19-1.35-.81-.72-1.36-1.6-1.52-1.87-.16-.27-.02-.42.12-.56.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.83-2.02-.22-.52-.44-.45-.61-.45-.16 0-.34-.02-.52-.02-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.29s.98 2.65 1.12 2.83c.14.18 1.93 2.95 4.69 4.02.65.28 1.16.45 1.56.58.65.21 1.25.18 1.72.11.52-.08 1.6-.65 1.83-1.28.23-.63.23-1.18.16-1.29-.07-.11-.25-.18-.52-.32zM16.04 4C9.94 4 4.99 8.95 5 15.05c0 2.12.62 4.09 1.68 5.75L6 28l7.37-1.93c1.62.89 3.49 1.4 5.47 1.4 6.1 0 11.05-4.95 11.05-11.05S22.14 4 16.04 4zm0 20.18c-1.9 0-3.66-.56-5.14-1.52l-.37-.24-4.36 1.14 1.16-4.25-.25-.39a8.98 8.98 0 0 1-1.4-4.86c0-4.98 4.05-9.03 9.03-9.03 4.98 0 9.03 4.05 9.03 9.03s-4.05 9.03-9.03 9.03z"/></svg>
  </a>

  <!-- Toggle del menú (mobile) -->
  <script>
    (function(){
      var btn = document.getElementById('nav-toggle');
      var nav = document.getElementById('main-nav');
      if(!btn || !nav) return;

      btn.addEventListener('click', function(){
        var open = nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });

      // Cerrar al navegar (mobile)
      nav.addEventListener('click', function(e){
        if(e.target.tagName === 'A' && nav.classList.contains('open')){
          nav.classList.remove('open');
          btn.setAttribute('aria-expanded', 'false');
        }
      });
    })();
  </script>

  {# FAB del carrito (contador + acceso rápido) #}
  {% include "lms/_cart_fab.html" %}

  <script>
    // Auto-ocultar mensajes luego de 3.5s
    (function(){
      const wrap = document.querySelector('.messages-wrapper');
      if(!wrap) return;
      setTimeout(()=>{ wrap.style.display='none'; }, 3500);
      wrap.addEventListener('click', (e)=>{
        if(e.target.matches('button[data-close]')) wrap.style.display='none';
      });
    })();
  </script>
</body>
</html>
