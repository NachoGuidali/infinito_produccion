{% extends "lms/base.html" %}
{% block title %}Carrito — Infinito Capacitaciones{% endblock %}
{% block content %}

<h1>Carrito</h1>

<div class="card" style="overflow:hidden">
  <div style="display:grid; grid-template-columns: 1fr 180px 110px; gap:12px; font-weight:700; padding:10px 12px;">
    <div>Item</div>
    <div style="text-align:right">Precio</div>
    <div></div>
  </div>

  {% if items %}
    {% for it in items %}
      <div class="card" style="margin:12px; display:grid; grid-template-columns: 1fr 180px 110px; gap:12px; align-items:center; background:#fff;">
        <div>
          <div class="card" style="padding:12px; background:#f9fafb; border-color:#eee">
            <div style="font-weight:700">{{ it.title }}</div>
            {% if it.course_title %}
              <div class="muted" style="margin-top:4px">Curso: {{ it.course_title }}</div>
            {% endif %}
          </div>
        </div>
        <div style="text-align:right; font-weight:700">$ {{ it.price_ars }}</div>
        <div style="text-align:right">
          <a class="btn btn-outline" href="{% url 'lms:cart_remove' it.key %}">Quitar</a>
        </div>
      </div>
    {% endfor %}

    <div class="card" style="margin:12px; display:grid; grid-template-columns: 1fr 180px 110px; gap:12px; align-items:center; background:#fff;">
      <div class="card" style="background:#f9fafb; border-color:#eee; font-weight:700">Total</div>
      <div style="text-align:right; font-weight:800">$ {{ total_ars }}</div>
      <div style="text-align:right">
        <a class="btn" href="{% url 'lms:cart_go_checkout' %}">Ir a pagar</a>
      </div>
    </div>

  {% else %}
    <p class="muted" style="padding:16px">Tu carrito está vacío.</p>
  {% endif %}
</div>

{% endblock %}

